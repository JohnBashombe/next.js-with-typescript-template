#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'styling, testing and building your project before commit'

# Check typescript config standards
npm run check-types || {
    echo ' \nTake some ğŸ¥™ğŸ¥™ and try to fix your Typescript issues. Make the required changes above after taking ğŸ¥™ğŸ¥™ğŸ¥™\n'
    false;
}

#  Check prettier standards
npm run check-format || {
    echo '\nğŸ¦–ğŸ¦– You styling does not respect this project guide lines. Run npm run format and add the required changes. ğŸ¦–ğŸ¦–\n'
    false;
}

#  Check eslint standards
npm run check-lint || {
    echo '\nğŸ¦–ğŸ¦– ESlint Check failed. Add the required changes and try to commit again. ğŸ¦–ğŸ¦–\n'
    false;
}

#  Build the project
npm run build || {
    echo '\nğŸ› ğŸ›  Could not build the project ğŸ› ğŸ› . ğŸ› ğŸ›  View errors above to see why. ğŸ› ğŸ› \n'
    false;
}

# If we have a successful build
echo '\nâœ…âœ…âœ… You are the guy we need... I am committing this now âœ…âœ…âœ…\n'  